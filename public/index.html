<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8">
		<title>Battle Tanks</title>
		<link href='http://fonts.googleapis.com/css?family=Play:700' rel='stylesheet' type='text/css'>
		<link rel="stylesheet" href="/css/style.css">
		<script type="text/javascript" src="//code.jquery.com/jquery-2.1.1.min.js"></script>
		<script type="text/javascript" src="/socket.io/socket.io.js"></script>
		<script type="text/javascript" src="js/socket.js"></script>
		<script type="text/javascript" src="js/canvas_tank.js"></script>
		<script type="text/javascript" src="js/bullet.js"></script>
		<script type="text/javascript" src="js/tank.js"></script>
		<script type="text/javascript" src="js/game.js"></script>
		<script type="text/javascript" src="js/chatroom.js"></script>
		<script>

			// socket = io.connect();

			socket.emit('get users', "getting users");

		  $(function() {
				// Make lobby appear
				$('#splashbutton').on('click', connectToLobby);

			});
			// Establishes socket connection and loads chat lobby
			function connectToLobby() {
				$('#splashpage').hide();
				// AJAX request for socket.js to open a socket connection
				// $.get('/socket').done(function(data) {
				var scriptElement = document.createElement('script');
				scriptElement.src = '/js/socket.js';
				$('#splashpage').hide();
				$('#lobby').show();
				$('#loginpage').show();
			}
		</script>
	</head>

	<body>
		<canvas id='canvas' height=600 width=1000></canvas>
		<div id="splashpage">
			<h1 id='main-title'>Super Battle Fun Time</h1>
			<p id='instructions'>
				Can you destroy the enemy tank before the enemy tank destroys you?<br>
				Challenge someone online right now and find out!<br><br>
				<div id="splashbutton">Enter Lobby</div>
				<div id='controls-title'>CONTROLS:</div>
				<div id='controls'>
					<div id='controls-left'>
						WASD/&#8593;&#8595;&#8592;&#8594;<br>
						Mouse<br>
						Click
					</div>
					<div id='controls-right'>
						Move forward and backward, turn left and right<br>
						Move turret<br>
						Shoot
					</div>
				</div>
			</p>
			<p id='creators'>
				Created by David Brodsky and Mike Firer for General Assembly's Web Development Immersive
			</p>
		</div>
		<div id="lobby">
			<div class="chatcontainer">
				<div class="userscontainer">
					<h1 class="users-title">Users</h1>
					<div class="current-users">
					</div>
				</div>
				<div class="chatmessagescontainer">
				</div>
			</div>
			<div class="textinputcontainer">
				<input type="text" id="messageinput" placeholder="Type your message here">
				<input class="sendbutton" type="button" value="Send"/>
			</div>
		</div>
		<div id="loginpage">
			<div class="loginform">
				<input type="text" type="submit" id="login-input" placeholder="Select your username">
			</div>
		</div>
	</body>
</html>
